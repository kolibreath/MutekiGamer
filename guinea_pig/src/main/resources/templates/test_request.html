<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<script type="text/javascript"
        src="webjars/jquery/2.2.4/jquery.min.js"></script>
<!--引入相关的js-->
<script type="text/javascript" src="./static/js/Homepage.js"></script>
<script type="text/javascript" src="./static/js/Post.js"></script>
<script type="text/javascript" src="./static/js/Auth.js"></script>
<script type="text/javascript" src="./static/js/User.js"></script>

<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <h1>fuck </h1>

    <body>
    <button id="test_all_data">test all data</button>
    <button id="test_data_by_id">test data by id</button>

    <br>

    <input id="postContent" value="内容">
    <input id="postTitle"   value="标题">
    <input id="gameId"      value="游戏Id">
    <input id="tag"         value="帖子Tag">

    <button  id="new_post">发帖</button>

    <br>

    <input id="responseContent" value="内容">
    <input id="postId"      value="帖子Id">
    <button  id="new_response">发帖</button>


    <br>

    <input id="new_password" value="新密码">
    <button  id="change_password">修改密码</button>

    <br>
    <input id="other_user_id" value="其他的用户的Id">
    <button  id="follow">关注用户</button>
    <button  id="unfollow">取消关注用户</button>

    <br>
    <button id="test_get_username">测试获取用户名</button>

</body>
    <script type="text/javascript">
        //home
        document.getElementById("test_all_data").onclick = function(){
            homepage(function (result) {
                // console.log(result);
                let games = result.banner;
                console.log(result.game[0].gameName);
                console.log(result.banner);
                console.log(result.post);
                console.log(result);
            });
        };

        document.getElementById("test_data_by_id").onclick = function () {
            let gameId = 1;
            getPostByGameId(gameId,function(result){
                console.log(result);
                console.log(result.post)
            });
        };

        document.getElementById("new_post").onclick = function () {
            let postContent = document.getElementById("postContent").value;
            let postTitle =   document.getElementById("postTitle").value;
            let gameId =      document.getElementById("gameId").value;
            let tag =         document.getElementById("tag").value;

            newPost(postContent,postTitle,tag,gameId,function (result) {
                if(result== 200)
                    alert("成功");
                else
                    alert(result);
            })
        };

        document.getElementById("new_response").onclick = function () {
            let responseContent = document.getElementById("responseContent").value;
            //假定postId为1
            let postId =    1;
            newResponse(responseContent,postId,function (result) {
                if(result== 200)
                    alert("成功");
                else
                    alert(result);
            })
        };

        document.getElementById("change_password").onclick = function () {
            let newPassword = document.getElementById("new_password").value;
            changePasword(newPassword,function(result){
                alert(result);
            });
        };

        document.getElementById("follow").onclick = function () {
            let otherUserId = document.getElementById("other_user_id").value;
            follow(otherUserId,function (result ) {
                alert("用户id"+otherUserId);
                alert("关注"+result);
            })
        };

        document.getElementById("unfollow").onclick = function () {
            let otherUserId = document.getElementById("other_user_id").value;
            unfollow(otherUserId,function (result ) {
                alert("用户id"+otherUserId);
                alert("取消关注关注"+result);
            })
        };

        document.getElementById("test_get_username").onclick = function () {
            getUserInfo(function(result){
                alert(result);
                console.log(result);
            })
        }



    </script>

</head>

</html>